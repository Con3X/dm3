version: '3.1'
services:
    delivery-service:
        image: dm3-delivery-service
        command: yarn start
        restart: always
        depends_on:
            - db-delivery-service
        environment:
            REDIS_URL: redis://db-delivery-service:6379
            SIGNING_PUBLIC_KEY: ${SIGNING_PUBLIC_KEY}
            SIGNING_PRIVATE_KEY: ${SIGNING_PRIVATE_KEY}
            ENCRYPTION_PUBLIC_KEY: ${ENCRYPTION_PUBLIC_KEY}
            ENCRYPTION_PRIVATE_KEY: ${ENCRYPTION_PRIVATE_KEY}
            RPC: ${RPC}
            PORT: 8083
            LOG_LEVEL: 'debug'

    db-delivery-service:
        image: redis
        restart: always
        container_name: redis-delivery-service
